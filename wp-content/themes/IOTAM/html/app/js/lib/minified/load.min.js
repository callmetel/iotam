function loadProgress(a,b){loadedCount++,loadingProgress=loadedCount/thingsToLoad,TweenLite.to(progressTl,1,{progress:loadingProgress,ease:Linear.easeNone})}function progressUpdate(){loadingProgress=Math.round(100*progressTl.progress()),$(".txt-perc").text(loadingProgress+"%")}function loadComplete(){setTimeout(function(){var a=new TimelineMax;return a.to($(".txt"),.5,{autoAlpha:0}).set($("body"),{className:"-=is-loading"}).to($("#preloader .section-left"),1,{x:"-100%",ease:Power2.easeInOut},"-=.25").to($("#preloader .section-right"),1,{x:"100%",ease:Power2.easeInOut},"-=1").set($("#preloader"),{className:"+=is-hidden"}).set("#M-slide .line",{scaleX:0,x:"-300px"},"-=1").fromTo("#M-slide .slide-info",1.5,{alpha:0,marginTop:"100px"},{alpha:1,marginTop:0}).to("#M-slide .line",1.5,{scaleX:1,x:"0"},"-=1"),a},1e3),setTimeout(function(){$("#preloader").remove()},2e3)}var loadedCount=0,thingsToLoad=$(".load").length,loadingProgress=0;$(".load").imagesLoaded({background:!0}).progress(function(a,b){loadProgress()});var progressTl=new TimelineMax({paused:!0,onUpdate:progressUpdate,onComplete:loadComplete});progressTl.to($(".progress span"),1,{scaleX:1,transformOrigin:"left",ease:Linear.easeNone});